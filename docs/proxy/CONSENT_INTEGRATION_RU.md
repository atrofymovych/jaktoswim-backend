# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Consent API

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–∏—è–º–∏ (consents) —á–µ—Ä–µ–∑ Proxy API –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

–î–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞ –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤:
- **gdpr-consent** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GDPR —Å–æ–≥–ª–∞—Å–∏–µ–º (–ø—É–±–ª–∏—á–Ω—ã–π, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)
- **privacy-policy** - –ø–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ (–ø—É–±–ª–∏—á–Ω—ã–π, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)

–¢–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- **gdpr-consent-link** - –ø—Ä–∏–≤—è–∑–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ GDPR —Å–æ–≥–ª–∞—Å–∏—è –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π, —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)
- **privacy-policy-link** - –ø—Ä–∏–≤—è–∑–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π, —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –¢–∏–ø—ã –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤

| –¢–∏–ø | –î–æ—Å—Ç—É–ø | –ú–µ—Ç–æ–¥—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|--------|--------|----------|
| `gdpr-consent` | –ü—É–±–ª–∏—á–Ω—ã–π | POST | –°–æ–∑–¥–∞–Ω–∏–µ GDPR —Å–æ–≥–ª–∞—Å–∏—è (–∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–ª–∏ —Å userId) |
| `privacy-policy` | –ü—É–±–ª–∏—á–Ω—ã–π | POST | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ (–∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–ª–∏ —Å userId) |
| `gdpr-consent-link` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π | POST | –ü—Ä–∏–≤—è–∑–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ GDPR —Å–æ–≥–ª–∞—Å–∏—è –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `privacy-policy-link` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π | POST | –ü—Ä–∏–≤—è–∑–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### –ë–∞–∑–æ–≤—ã–µ URL

–î–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ URL:

- **–ü—É–±–ª–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** (gdpr-consent, privacy-policy): `https://dev-dao-api.crm-system.art/public/proxy`
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** (gdpr-consent-link, privacy-policy-link): `https://dev-dao-api.crm-system.art/proxy`

**–í–∞–∂–Ω–æ:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>`.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Proxy API —Ç—Ä–µ–±—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

| –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|--------------|----------|--------|
| `X-ORG-ID` | ‚úÖ –î–∞ | ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | `org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW` |
| `X-SOURCE` | ‚úÖ –î–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞). –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 6 –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤ | `web_app`, `mobile_app_ios`, `mobile_app_android`, `api_client` |

**–í–∞–∂–Ω–æ:**
- `X-ORG-ID` –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ `org_` –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
- `X-SOURCE` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û–±–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤–∫–ª—é—á–∞—è –ø—É–±–ª–∏—á–Ω—ã–µ)

### Endpoints

#### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ X-ORG-ID –∏ X-SOURCE)

##### GDPR Consent
```
POST   /public/proxy/gdpr-consent           - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ (–∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–ª–∏ —Å userId)
```

##### Privacy Policy
```
POST   /public/proxy/privacy-policy         - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ (–∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–ª–∏ —Å userId)
```

#### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Bearer token –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ X-ORG-ID, X-SOURCE)

##### GDPR Consent Link
```
POST   /proxy/gdpr-consent-link              - –ü—Ä–∏–≤—è–∑–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ GDPR —Å–æ–≥–ª–∞—Å–∏–µ –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

##### Privacy Policy Link
```
POST   /proxy/privacy-policy-link            - –ü—Ä–∏–≤—è–∑–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### GDPR Consent

#### GdprConsentData

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è GDPR —Å–æ–≥–ª–∞—Å–∏—è:

```typescript
interface GdprConsentData {
  consentGiven: boolean;        // –§–ª–∞–≥ —Å–æ–≥–ª–∞—Å–∏—è (true/false)
  consentScope: string;         // –û–±–ª–∞—Å—Ç—å —Å–æ–≥–ª–∞—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'data_processing')
  consentTextVer: string;        // –í–µ—Ä—Å–∏—è —Ç–µ–∫—Å—Ç–∞ —Å–æ–≥–ª–∞—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, '1.0')
  consentMethod: string;        // –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'web_app', 'mobile_app')
  consentId?: string;           // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–≥–ª–∞—Å–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Å–æ–≥–ª–∞—Å–∏–π)
  userId?: string;              // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  timestamp?: string;            // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  ipAddress?: string;           // IP –∞–¥—Ä–µ—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

#### GdprConsentResponse

–û—Ç–≤–µ—Ç API –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ GDPR —Å–æ–≥–ª–∞—Å–∏—è:

```typescript
interface GdprConsentResponse {
  _id: string;                  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  type: 'gdpr-consent';         // –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  data: GdprConsentData;        // –î–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–∏—è
  metadata: {
    userId: string | null;       // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (null –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö)
    orgId: string;              // ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
    source: string;             // –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ (–∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-SOURCE)
  };
  createdAt: string;            // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601)
  updatedAt: string;            // –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (ISO 8601)
}
```


### Privacy Policy

#### PrivacyPolicyData

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ –ø–æ–ª–∏—Ç–∏–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:

```typescript
interface PrivacyPolicyData {
  version: string;              // –í–µ—Ä—Å–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  content?: string;             // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ª–∏—Ç–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  acceptedAt?: string;          // –î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è (ISO 8601, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  userId?: string;              // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  language?: string;            // –Ø–∑—ã–∫ –ø–æ–ª–∏—Ç–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'ru', 'en', –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  consentId?: string;           // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π)
}
```

#### PrivacyPolicyResponse

–û—Ç–≤–µ—Ç API –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏:

```typescript
interface PrivacyPolicyResponse {
  _id: string;                  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  type: 'privacy-policy';       // –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  data: PrivacyPolicyData;      // –î–∞–Ω–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
  metadata: {
    userId: string | null;       // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (null –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö)
    orgId: string;              // ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
    source: string;             // –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ (–∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-SOURCE)
  };
  createdAt: string;            // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601)
  updatedAt: string;            // –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (ISO 8601)
}
```

## –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### POST /public/proxy/gdpr-consent

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "data": {
    "consentGiven": true,
    "consentScope": "data_processing",
    "consentTextVer": "1.0",
    "consentMethod": "web_app",
    "consentId": "consent_1234567890_abc123"
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "object_added",
  "object": {
    "_id": "507f1f77bcf86cd799439011",
    "type": "gdpr-consent",
    "data": {
      "consentGiven": true,
      "consentScope": "data_processing",
      "consentTextVer": "1.0",
      "consentMethod": "web_app",
      "consentId": "consent_1234567890_abc123"
    },
    "metadata": {
      "userId": null,
      "orgId": "org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW",
      "source": "web_app"
    },
    "createdAt": "2024-01-15T10:30:00.000Z",
    "updatedAt": "2024-01-15T10:30:00.000Z"
  }
}
```

**HTTP Status Code:** `200 OK`

### POST /public/proxy/privacy-policy

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "data": {
    "version": "1.0",
    "acceptedAt": "2024-01-15T10:30:00.000Z",
    "language": "ru",
    "consentId": "privacy_1234567890_abc123"
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "object_added",
  "object": {
    "_id": "507f1f77bcf86cd799439012",
    "type": "privacy-policy",
    "data": {
      "version": "1.0",
      "acceptedAt": "2024-01-15T10:30:00.000Z",
      "language": "ru",
      "consentId": "privacy_1234567890_abc123"
    },
    "metadata": {
      "userId": null,
      "orgId": "org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW",
      "source": "web_app"
    },
    "createdAt": "2024-01-15T10:30:00.000Z",
    "updatedAt": "2024-01-15T10:30:00.000Z"
  }
}
```

**HTTP Status Code:** `200 OK`

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ |
|-----|----------|---------|
| 400 | Bad Request | –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-ORG-ID, –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç X-SOURCE |
| 403 | Forbidden | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-SOURCE, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ |
| 404 | Not Found | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —Ç–∏–ø –∫–æ–Ω—Å–µ–Ω—Ç–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ |
| 500 | Internal Server Error | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `X-ORG-ID header is required` | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-ORG-ID | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ |
| `X-SOURCE header required` | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-SOURCE | –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-SOURCE –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å |
| `Source is not correct. Must be from 6 to 200 symbols` | X-SOURCE —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –∏–ª–∏ –¥–ª–∏–Ω–Ω—ã–π | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 6 –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤ |
| `Invalid organization ID` | –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç X-ORG-ID | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `org_` –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è |
| `Type is not allowed or does not exist` | –¢–∏–ø –∫–æ–Ω—Å–µ–Ω—Ç–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ProxyConfig —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ |

## –õ–æ–≥–∏–∫–∞ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤

### –û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø

1. **–ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Å–µ–Ω—Ç–∞**: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Å–µ–Ω—Ç–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `consentId` –≤ –ø–æ–ª–µ `data.consentId`. –ü–æ–ª–µ `data.userId` –¥–æ–ª–∂–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –±—ã—Ç—å `null`.

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ consentId**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `consentId` –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ localStorage, AsyncStorage, –∏–ª–∏ –¥—Ä—É–≥–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ) –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

3. **–õ–∏–Ω–∫–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–∑–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/proxy/gdpr-consent-link` –∏–ª–∏ `/proxy/privacy-policy-link` —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º `consentId`. –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `gdpr-consent-link` –∏–ª–∏ `privacy-policy-link`, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–æ–Ω—Å–µ–Ω—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è

#### GdprConsentLinkData

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏ GDPR —Å–æ–≥–ª–∞—Å–∏—è:

```typescript
interface GdprConsentLinkData {
  consentId: string;            // ID –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
}
```

#### GdprConsentLinkResponse

–û—Ç–≤–µ—Ç API –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏:

```typescript
interface GdprConsentLinkResponse {
  _id: string;                  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏
  type: 'gdpr-consent-link';    // –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  data: GdprConsentLinkData;    // –î–∞–Ω–Ω—ã–µ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è
  metadata: {
    userId: string;             // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    orgId: string;              // ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
    source: string;             // –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ (–∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-SOURCE)
  };
  createdAt: string;            // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601)
  updatedAt: string;            // –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (ISO 8601)
}
```

#### PrivacyPolicyLinkData

–î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏:

```typescript
interface PrivacyPolicyLinkData {
  consentId: string;            // ID –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
}
```

#### PrivacyPolicyLinkResponse

–û—Ç–≤–µ—Ç API –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏:

```typescript
interface PrivacyPolicyLinkResponse {
  _id: string;                  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ –æ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–∏
  type: 'privacy-policy-link';   // –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  data: PrivacyPolicyLinkData;  // –î–∞–Ω–Ω—ã–µ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è
  metadata: {
    userId: string;             // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    orgId: string;              // ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
    source: string;             // –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ (–∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-SOURCE)
  };
  createdAt: string;            // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601)
  updatedAt: string;            // –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (ISO 8601)
}
```

### POST /proxy/gdpr-consent-link

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "data": {
    "consentId": "consent_1234567890_abc123"
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "object_added",
  "object": {
    "_id": "507f1f77bcf86cd799439020",
    "type": "gdpr-consent-link",
    "data": {
      "consentId": "consent_1234567890_abc123"
    },
    "metadata": {
      "userId": "user_1234567890",
      "orgId": "org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW",
      "source": "web_app"
    },
    "createdAt": "2024-01-15T10:35:00.000Z",
    "updatedAt": "2024-01-15T10:35:00.000Z"
  }
}
```

**HTTP Status Code:** `200 OK`

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `gdpr-consent-link` —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `consentId`
- `userId` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `metadata.userId`
- –û–±—ä–µ–∫—Ç –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è —Å–ª—É–∂–∏—Ç –¥–ª—è —Å–≤—è–∑–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è (—Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–Ω–µ–µ —Å —ç—Ç–∏–º `consentId`) —Å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### POST /proxy/privacy-policy-link

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "data": {
    "consentId": "privacy_1234567890_abc123"
  }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "object_added",
  "object": {
    "_id": "507f1f77bcf86cd799439021",
    "type": "privacy-policy-link",
    "data": {
      "consentId": "privacy_1234567890_abc123"
    },
    "metadata": {
      "userId": "user_1234567890",
      "orgId": "org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW",
      "source": "web_app"
    },
    "createdAt": "2024-01-15T10:35:00.000Z",
    "updatedAt": "2024-01-15T10:35:00.000Z"
  }
}
```

**HTTP Status Code:** `200 OK`

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `privacy-policy-link` —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `consentId`
- `userId` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `metadata.userId`
- –û–±—ä–µ–∫—Ç –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è —Å–ª—É–∂–∏—Ç –¥–ª—è —Å–≤—è–∑–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ (—Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–Ω–µ–µ —Å —ç—Ç–∏–º `consentId`) —Å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–í–∞–∂–Ω–æ:**
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>` –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ `X-ORG-ID` –∏ `X-SOURCE`
- `userId` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `metadata.userId`
- –°–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `gdpr-consent-link` –∏–ª–∏ `privacy-policy-link`, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç `consentId` —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã `gdpr-consent` –∏ `privacy-policy` –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- API –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `consentId` –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–∏–Ω–∫–∞ - –æ–Ω –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç-–ª–∏–Ω–∫

## Best Practices

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏**: –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ `X-ORG-ID` –∏ `X-SOURCE` –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≥–ª–∞—Å–∏–π**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≥–ª–∞—Å–∏—è—Ö –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞ –∑–∞–ø—Ä–æ—Å–æ–≤**: –•—Ä–∞–Ω–∏—Ç–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (localStorage, AsyncStorage –∏ —Ç.–¥.) —Ñ–ª–∞–≥–∏ –æ —Ç–æ–º, –∫–∞–∫–∏–µ –∫–æ–Ω—Å–µ–Ω—Ç—ã —É–∂–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —ç—Ç–∏ —Ñ–ª–∞–≥–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–ø–∞–º–∞. –ü—Ä–∏–º–µ—Ä: `localStorage.setItem('gdpr_consent_sent', 'true')` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ GDPR —Å–æ–≥–ª–∞—Å–∏—è
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π**: –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–æ–≥–ª–∞—Å–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —Å–æ–≥–ª–∞—Å–∏—è–º–∏ –¥–ª—è –∞—É–¥–∏—Ç–∞
7. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
8. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π X-SOURCE**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `web_app_1.0.0`, `mobile_app_ios_1.0.0`, `mobile_app_android_1.0.0`, `api_client_v2`)
9. **ConsentId –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `consentId` –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Å–æ–≥–ª–∞—Å–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `consent_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`)
10. **–õ–∏–Ω–∫–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
11. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è**: –ï—Å–ª–∏ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `consentId`, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. API –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç-–ª–∏–Ω–∫, –¥–∞–∂–µ –µ—Å–ª–∏ `consentId` –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö

## FAQ (–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### üßê –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### Q: –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω—ã —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥—ã POST (—Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ). –ï—Å—Ç—å –ª–∏ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è (GET), –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (PUT/PATCH) –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è (DELETE) —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–≥–ª–∞—Å–∏–π?

**A:** Proxy API –≤ —Ü–µ–ª–æ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–æ **–¥–ª—è —Ç–∏–ø–æ–≤ `gdpr-consent` –∏ `privacy-policy` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ POST**.

–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `ProxyConfig.enabledMethods` –¥–ª—è –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –î–ª—è —Ç–∏–ø–æ–≤ –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤ (`gdpr-consent`, `privacy-policy`, `gdpr-consent-link`, `privacy-policy-link`) –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ `POST`.

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Å–µ–Ω—Ç–æ–≤:**
- **POST** `/public/proxy/gdpr-consent` - —Å–æ–∑–¥–∞—Ç—å GDPR —Å–æ–≥–ª–∞—Å–∏–µ
- **POST** `/public/proxy/privacy-policy` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –ø–æ–ª–∏—Ç–∏–∫–∏
- **POST** `/proxy/gdpr-consent-link` - —Å–≤—è–∑–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ GDPR —Å–æ–≥–ª–∞—Å–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **POST** `/proxy/privacy-policy-link` - —Å–≤—è–∑–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–í–∞–∂–Ω–æ:** –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –¥–∞–≤–∞–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≥–ª–∞—Å–∏–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫—É –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ –¥—Ä—É–≥–∏–º API –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã).

#### Q: –£–∫–∞–∑–∞–Ω–æ, —á—Ç–æ X-ORG-ID –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å "—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –Ω–∏–∂–Ω–∏–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è". –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ª–∏ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã?

**A:** –î–∞, –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è. –§–æ—Ä–º–∞—Ç X-ORG-ID: `org_` + –±—É–∫–≤—ã (–∑–∞–≥–ª–∞–≤–Ω—ã–µ –∏ —Å—Ç—Ä–æ—á–Ω—ã–µ), —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è. –ü—Ä–∏–º–µ—Ä: `org_Drrt9YtLYHJRkM86Z17YGaUTb3LwLZW` - –≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

#### Q: –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ X-SOURCE (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ `web_app_1.0.0`) –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ `web_app`?

**A:** –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ X-SOURCE –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: –¥–ª–∏–Ω–∞ –æ—Ç 6 –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `web_app` (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤) ‚úÖ
- `mobile_app_ios` ‚úÖ
- `web_app_1.0.0` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ª—É—á—à–µ–≥–æ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞) ‚úÖ
- `api_client_v2` ‚úÖ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

#### Q: –ü—Ä–∏–≤–µ–¥–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ URL –¥–ª—è dev-dao-api. –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ —Å—Ä–µ–¥—ã (—Ç–µ—Å—Ç/—Å—Ç–∞–≥ –∏–ª–∏ –ø—Ä–æ–¥), –∏ –∫–∞–∫–∏–µ —É –Ω–∏—Ö –±–∞–∑–æ–≤—ã–µ URL?

**A:** –î–∞, –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ä–µ–¥—ã:

- **Development**: `https://dev-dao-api.crm-system.art`
- **Staging/Test**: `https://staging-dao-api.crm-system.art` (—É—Ç–æ—á–Ω–∏—Ç–µ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
- **Production**: `https://dao-api.crm-system.art` (—É—Ç–æ—á–Ω–∏—Ç–µ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

**–í–∞–∂–Ω–æ:** –£—Ç–æ—á–Ω–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ URL –¥–ª—è –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

### üîó –í–æ–ø—Ä–æ—Å—ã –ø–æ –°–≤—è–∑—ã–≤–∞–Ω–∏—é –ê–Ω–æ–Ω–∏–º–Ω—ã—Ö –°–æ–≥–ª–∞—Å–∏–π

#### Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ —è –ø–æ–ø—ã—Ç–∞—é—Å—å —Å–≤—è–∑–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π consentId? –ë—É–¥–µ—Ç –ª–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404), –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –Ω–∏–∫—É–¥–∞?

**A:** API **–Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `consentId` –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–∏–Ω–∫–∞. –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `gdpr-consent-link` –∏–ª–∏ `privacy-policy-link` —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `consentId`, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–∫–æ–≥–æ `consentId` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö `gdpr-consent` –∏–ª–∏ `privacy-policy`. –û—à–∏–±–∫–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç (—Å—Ç–∞—Ç—É—Å 200 OK).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `consentId` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è "–≤–∏—Å—è—á–∏—Ö" —Å—Å—ã–ª–æ–∫.

#### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ consentId —Å–≤—è–∑–∞—Ç—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ ID?

**A:** –î–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ. API –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –±—ã–ª –ª–∏ `consentId` —É–∂–µ —Å–≤—è–∑–∞–Ω —Å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `/proxy/gdpr-consent-link` –∏–ª–∏ `/proxy/privacy-policy-link` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç-–ª–∏–Ω–∫ —Å `userId` –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, –Ω–µ –±—ã–ª –ª–∏ `consentId` —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ª–∏–Ω–∫–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤—è–∑–µ–π.

#### Q: Public endpoints –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å userId. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω—É–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Public endpoint —Å userId –∏–ª–∏ Private endpoint?

**A:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1:** Public endpoint —Å `userId` –≤ `data.userId`
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É
- –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: `userId` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

**–í–∞—Ä–∏–∞–Ω—Ç 2:** Private endpoint (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ ProxyConfig) + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ `userId` –∏–∑ —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: `userId` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —Ç–æ–∫–µ–Ω–∞, –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ
- –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏: —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã), —Ç–∞–∫ –∫–∞–∫ `userId` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —Ç–æ–∫–µ–Ω–∞ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞.

#### Q: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Public endpoint —Å userId, –∑–∞—á–µ–º –Ω–∞–º —Ç–æ–≥–¥–∞ –≤–æ–æ–±—â–µ –Ω—É–∂–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º linking?

**A:** –ú–µ—Ö–∞–Ω–∏–∑–º linking –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞:
1. –°–æ–≥–ª–∞—Å–∏–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ **–∞–Ω–æ–Ω–∏–º–Ω–æ** (–±–µ–∑ `userId`) –¥–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª—Å—è **–ø–æ—Å–ª–µ** —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–∏—è
3. –ù—É–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

–ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ **—É–∂–µ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**, –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Public endpoint —Å `userId` –∏–ª–∏ Private endpoint (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω) - –º–µ—Ö–∞–Ω–∏–∑–º linking –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ –Ω—É–∂–µ–Ω.

### üõ†Ô∏è –í–æ–ø—Ä–æ—Å—ã –ø–æ –ú–æ–¥–µ–ª—è–º –î–∞–Ω–Ω—ã—Ö –∏ –û–±—Ä–∞–±–æ—Ç–∫–µ –ó–∞–ø—Ä–æ—Å–æ–≤

#### Q: –ö–∞–∫–∏–µ –ø–æ–ª—è –∏–∑ GdprConsentData –∏ PrivacyPolicyData —è–≤–ª—è—é—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ POST?

**A:** API –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –ø–æ–ª–µ `data` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º (–Ω–µ null, –Ω–µ –º–∞—Å—Å–∏–≤, –Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–ª—è–º (–Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏):**

–î–ª—è `GdprConsentData`:
- `consentGiven` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (—Ñ–ª–∞–≥ —Å–æ–≥–ª–∞—Å–∏—è)
- `consentScope` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–æ–±–ª–∞—Å—Ç—å —Å–æ–≥–ª–∞—Å–∏—è)
- `consentTextVer` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–≤–µ—Ä—Å–∏—è —Ç–µ–∫—Å—Ç–∞)
- `consentMethod` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–∏—è)
- `consentId` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Å–æ–≥–ª–∞—Å–∏–π)
- `userId` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

–î–ª—è `PrivacyPolicyData`:
- `version` - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–≤–µ—Ä—Å–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

**–í–∞–∂–Ω–æ:** –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞.

#### Q: –í PrivacyPolicyData –ø–æ–ª–µ content —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º. –ù—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç –ø–æ–ª–∏—Ç–∏–∫–∏, –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ version?

**A:** –ü–æ–ª–µ `content` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `version` - —Å–∞–º —Ç–µ–∫—Å—Ç –ø–æ–ª–∏—Ç–∏–∫–∏ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. –ü–æ–ª–µ `content` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—é —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø–∏—Å—å—é –æ –ø—Ä–∏–Ω—è—Ç–∏–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –ø–æ–ª–∏—Ç–∏–∫–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ CMS), –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `version`. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å —Ç–µ–∫—Å—Ç–∞–º–∏, –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `content`.

#### Q: –í –ø—Ä–∏–º–µ—Ä–∞—Ö —É–∫–∞–∑–∞–Ω 200 OK –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞. –ë—É–¥—É—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–µ HTTP-—Å—Ç–∞—Ç—É—Å—ã –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 201 Created)?

**A:** –ù–µ—Ç, –≤—Å–µ —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç **200 OK**. API –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 201 Created. –í —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ –µ—Å—Ç—å –ø–æ–ª–µ `status`, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏:
- `"object_added"` - –¥–ª—è POST (—Å–æ–∑–¥–∞–Ω–∏–µ)
- `"object_updated"` - –¥–ª—è PUT (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- `"object_deleted"` - –¥–ª—è DELETE (—É–¥–∞–ª–µ–Ω–∏–µ)

#### Q: –ï—Å–ª–∏ –ø—Ä–∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞ 403 (Missing authorization), –∫–∞–∫–æ–π –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞?

**A:** –ü—Ä–∏ –æ—à–∏–±–∫–µ 403 (Forbidden) –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç:

```json
{
  "error": "Forbidden: authentication required"
}
```

–ò–ª–∏, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-SOURCE:

```json
{
  "error": "X-SOURCE header required"
}
```

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ "error": "—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏" }` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º HTTP —Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–º.

---

**¬© 2023 DAO.Framework. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.**